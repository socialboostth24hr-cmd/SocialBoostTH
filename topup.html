<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏á‡∏¥‡∏ô | SocialBoostTH</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
:root{
  --black:#0b0f1a;
  --blue:#38bdf8;
  --purple:#8b5cf6;
  --pink:#ec4899;
  --muted:#94a3b8;
  --success:#22c55e;
  --danger:#ef4444;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:system-ui,-apple-system;
  background:
    radial-gradient(900px 420px at top,#1e293b,transparent),
    linear-gradient(180deg,var(--black),#060913);
  color:#f1f5f9;
}

/* HEADER */
.header{
  position:sticky;top:0;z-index:20;
  background:rgba(2,6,23,.85);
  backdrop-filter:blur(14px);
  padding:14px 16px;
  display:grid;
  grid-template-columns:auto 1fr auto;
  align-items:center;
}
.back{
  border:none;
  padding:6px 14px;
  border-radius:999px;
  background:rgba(255,255,255,.08);
  color:#fff;
  font-weight:900;
}
.center{
  text-align:center;
  font-weight:900;
  background:linear-gradient(90deg,var(--blue),var(--purple),var(--pink));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}

/* CONTAINER */
.container{
  max-width:520px;
  margin:auto;
  padding:20px 18px 120px;
}

/* CARD */
.card{
  background:linear-gradient(180deg,#111827,#0b1020);
  border-radius:24px;
  padding:20px;
  margin-bottom:16px;
  border:1px solid rgba(255,255,255,.06);
  box-shadow:0 25px 70px rgba(0,0,0,.6);
}

/* INPUT */
label{
  font-size:13px;
  font-weight:900;
}
.input{
  margin-top:6px;
  background:#020617;
  border-radius:16px;
  padding:14px;
  border:1px solid rgba(255,255,255,.08);
}
.input input{
  width:100%;
  background:transparent;
  border:none;
  outline:none;
  color:#fff;
  font-size:16px;
}

/* FILE */
.file{
  display:block;
  margin-top:10px;
  font-size:13px;
  color:var(--muted);
}

/* BUTTON */
.btn{
  position:fixed;
  bottom:16px;
  left:50%;
  transform:translateX(-50%);
  width:calc(100% - 32px);
  max-width:480px;
  padding:16px;
  border-radius:999px;
  font-size:16px;
  font-weight:900;
  border:none;
  color:#fff;
  background:linear-gradient(135deg,var(--blue),var(--purple),var(--pink));
}

/* NOTE */
.note{
  font-size:13px;
  line-height:1.6;
  color:#cbd5f5;
}

/* TOAST */
.toast{
  position:fixed;
  left:16px;
  bottom:-80px;
  background:rgba(15,23,42,.95);
  border:1px solid rgba(139,92,246,.35);
  color:#fff;
  padding:14px 18px;
  border-radius:16px;
  font-size:13px;
  font-weight:900;
  box-shadow:0 20px 50px rgba(0,0,0,.6);
  transition:.4s;
  z-index:50;
}
.toast.show{bottom:22px}
</style>
</head>

<body>

<header class="header">
  <button class="back" onclick="history.back()">‚Üê</button>
  <div class="center">‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏á‡∏¥‡∏ô</div>
  <div></div>
</header>

<div class="container">

  <div class="card">
    <label>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏¥‡∏° (‡∏ö‡∏≤‡∏ó)</label>
    <div class="input">
      <input type="number" id="amount" placeholder="‡πÄ‡∏ä‡πà‡∏ô 100, 500, 1000">
    </div>
  </div>

  <div class="card">
    <label>‡πÅ‡∏ô‡∏ö‡∏™‡∏•‡∏¥‡∏õ‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô</label>
    <div class="file">
      ‡∏ñ‡πà‡∏≤‡∏¢‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏•‡∏¥‡∏õ‡∏ó‡∏µ‡πà‡πÇ‡∏≠‡∏ô‡∏°‡∏≤<br>
      (‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö .jpg / .png)
    </div>
    <input type="file" id="slip" accept="image/*">
  </div>

  <div class="card">
    <b>üíö ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏∂‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</b>
    <div class="note">
      ‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏ô‡∏ö‡∏™‡∏•‡∏¥‡∏õ ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö<br>
      ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥ ‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï‡∏à‡∏∞‡πÄ‡∏Ç‡πâ‡∏≤‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥<br>
      ‡πÇ‡∏î‡∏¢‡∏õ‡∏Å‡∏ï‡∏¥‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 5 ‡∏ô‡∏≤‡∏ó‡∏µ
    </div>
  </div>

</div>

<button class="btn" onclick="submitTopup()">üì§ ‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏á‡∏¥‡∏ô</button>

<div class="toast" id="toast"></div>

<script>
const API = "https://script.google.com/macros/s/AKfycbzasQWFnaCBZtRKSwRID-UzoTjh3ydUH60dvyckuGZ2tsEqV6dfasvArIxDFehLopm_cA/exec";
const API_KEY = "SBTH-SECURE-2026";

const userId = localStorage.getItem("user_id");
if(!userId) location.href="index.html";

const toast=document.getElementById("toast");

function show(msg){
  toast.textContent=msg;
  toast.classList.add("show");
  setTimeout(()=>toast.classList.remove("show"),4000);
}

async function submitTopup(){
  const amount=document.getElementById("amount").value;
  const slip=document.getElementById("slip").files[0];

  if(!amount || amount<=0){
    show("‚ùå ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô");
    return;
  }
  if(!slip){
    show("‚ùå ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÅ‡∏ô‡∏ö‡∏™‡∏•‡∏¥‡∏õ");
    return;
  }

  const form=new FormData();
  form.append("action","requestTopup");
  form.append("api_key",API_KEY);
  form.append("user_id",userId);
  form.append("amount",amount);
  form.append("slip",slip);

  show("‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏á‡∏¥‡∏ô...");

  fetch(API,{method:"POST",body:form})
    .then(r=>r.json())
    .then(res=>{
      if(res.success){
        show("‚úÖ ‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à");
        setTimeout(()=>location.href="dashboard.html",1800);
      }else{
        show("‚ùå ‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à");
      }
    })
    .catch(()=>{
      show("‚ùå ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå");
    });
}
</script>

</body>
</html>