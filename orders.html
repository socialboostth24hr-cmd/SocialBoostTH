<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>Order ของฉัน</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{margin:0;font-family:system-ui;background:#0b0216;color:#fff}
.container{max-width:420px;margin:30px auto;padding:24px;background:#14062b;border-radius:20px}
.order{padding:14px;background:#1a0936;margin-bottom:10px;border-radius:14px}
</style>
</head>

<body>
<script>
const user = JSON.parse(localStorage.getItem("user"));
if(!user) location.href="index.html";
</script>

<div class="container">
  <h2>Order ของฉัน</h2>
  <div id="list">กำลังโหลด...</div>
</div>

<script>
const SHEET_ID="10hFozE-vcdtPhX7KiGs3JTndpvxbUNDHDzhpvPxIz-4";
fetch(`https://opensheet.elk.sh/${SHEET_ID}/orders`)
.then(r=>r.json())
.then(rows=>{
  list.innerHTML="";
  rows.filter(r=>r.user_id==user.user_id)
  .reverse().forEach(o=>{
    list.innerHTML+=`
      <div class="order">
        <b>${o.service_code}</b><br>
        จำนวน ${o.qty} | ${o.price} บาท<br>
        สถานะ: ${o.status}
      </div>`;
  });
});
</script>
</body>
</html>