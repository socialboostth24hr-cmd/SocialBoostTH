<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ | SocialBoostTH</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
:root{
  --bg:#0b0216;
  --card:#14062b;
  --border:#3b1775;
  --p:#8b5cf6;
  --pk:#ec4899;
  --soft:rgba(255,255,255,.75);
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:system-ui;
  background:
    radial-gradient(1000px 500px at top,#2a0d52,transparent),
    linear-gradient(180deg,#0b0216,#14032a);
  color:#fff;
}
.box{
  max-width:420px;
  margin:24px auto;
  padding:22px;
}

/* HEADER */
.header{
  text-align:center;
  margin-bottom:16px;
}
.logo{
  font-size:34px;
}
.header h1{
  margin:6px 0 4px;
  font-size:24px;
  font-weight:900;
  background:linear-gradient(90deg,var(--p),var(--pk));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}
.sub{
  font-size:14px;
  color:var(--soft);
}

/* CATEGORY */
.cats{
  display:flex;
  gap:10px;
  overflow-x:auto;
  margin:18px 0;
}
.cat{
  flex:0 0 auto;
  padding:10px 14px;
  border-radius:999px;
  border:1px solid var(--border);
  background:#120725;
  font-size:13px;
  font-weight:900;
  cursor:pointer;
  white-space:nowrap;
}
.cat.active{
  background:linear-gradient(135deg,var(--p),var(--pk));
}

/* SERVICE CARD */
.card{
  background:linear-gradient(180deg,#1a0936,var(--card));
  border:1px solid var(--border);
  border-radius:20px;
  padding:16px;
  margin-bottom:14px;
  cursor:pointer;
  transition:.2s;
}
.card:hover{
  box-shadow:0 0 0 1px rgba(139,92,246,.4),
             0 0 16px rgba(139,92,246,.25);
}
.name{
  font-size:16px;
  font-weight:900;
  color:#e9d5ff;
}
.meta{
  margin-top:6px;
  font-size:13px;
  color:var(--soft);
}
.price{
  margin-top:10px;
  font-size:15px;
  font-weight:900;
  color:#fbcfe8;
}
.badge{
  display:inline-block;
  margin-top:8px;
  padding:4px 10px;
  font-size:12px;
  font-weight:900;
  border-radius:999px;
  background:linear-gradient(90deg,#facc15,#fb7185);
  color:#1e293b;
}

/* BACK */
.back{
  width:100%;
  margin-top:16px;
  padding:14px;
  border-radius:18px;
  border:none;
  background:#1e293b;
  color:#fff;
  font-weight:900;
}
</style>
</head>

<body>

<div class="box">

  <div class="header">
    <div class="logo">üéµ</div>
    <h1>‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ TikTok</h1>
    <div class="sub">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏ß‡∏î ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£</div>
  </div>

  <!-- CATEGORY -->
  <div class="cats" id="cats"></div>

  <!-- SERVICES -->
  <div id="list">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£...</div>

  <button class="back" onclick="location.href='dashboard.html'">
    ‚¨Ö ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤ Dashboard
  </button>
</div>

<script>
const API_URL =
"https://script.google.com/macros/s/AKfycbwXQodvWfnX0rJedWKXFVdu_wY5jwGj-yUfKHXLS5aASGqBL24Q-Q7DUed5f48BMj7_/exec";

let allServices = [];
let currentCat = "all";

/* LOAD SERVICES */
fetch(API_URL,{
  method:"POST",
  body:JSON.stringify({ action:"getServices" })
})
.then(r=>r.json())
.then(res=>{
  if(!res.success){ list.innerHTML="‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ"; return; }
  allServices = res.services;
  renderCats();
  renderList();
});

/* CATEGORIES */
function renderCats(){
  const map = {
    all:"‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î",
    thai:"‡∏ú‡∏π‡πâ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡πÑ‡∏ó‡∏¢",
    foreign:"‡∏ï‡πà‡∏≤‡∏á‡∏ä‡∏≤‡∏ï‡∏¥",
    like:"‡πÑ‡∏•‡∏Å‡πå",
    view:"‡∏ß‡∏¥‡∏ß"
  };

  cats.innerHTML = "";
  Object.keys(map).forEach(k=>{
    const b = document.createElement("div");
    b.className = "cat"+(k==="all"?" active":"");
    b.innerText = map[k];
    b.onclick=()=>{
      document.querySelectorAll(".cat").forEach(x=>x.classList.remove("active"));
      b.classList.add("active");
      currentCat = k;
      renderList();
    };
    cats.appendChild(b);
  });
}

/* LIST */
function renderList(){
  list.innerHTML="";
  allServices
    .filter(s=> currentCat==="all" || s.category===currentCat)
    .forEach(s=>{
      const d=document.createElement("div");
      d.className="card";
      d.innerHTML=`
        <div class="name">${s.service_name}</div>
        <div class="meta">
          ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥ ${Number(s.min_qty).toLocaleString()} ‚Ä¢
          ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î ${Number(s.max_qty).toLocaleString()}
        </div>
        <div class="price">
          ${Number(s.price).toFixed(3)} ‡∏ö‡∏≤‡∏ó / ‡∏´‡∏ô‡πà‡∏ß‡∏¢
        </div>
        ${s.note?`<div class="badge">${s.note}</div>`:""}
      `;
      d.onclick=()=>{
        localStorage.setItem("selectedService",JSON.stringify(s));
        location.href="order.html";
      };
      list.appendChild(d);
    });
}
</script>

</body>
</html>