<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ปั้มผู้ติดตาม TikTok</title>

<style>
body{
  font-family: Arial, sans-serif;
  background:#f4f6fa;
  padding:20px;
}
.card{
  max-width:500px;
  margin:auto;
  background:#fff;
  border-radius:12px;
  padding:24px;
  box-shadow:0 8px 25px rgba(0,0,0,.1);
}
h1{
  font-size:22px;
  margin-bottom:6px;
}
label{
  font-weight:bold;
  margin-top:14px;
  display:block;
}
select,input{
  width:100%;
  padding:12px;
  font-size:16px;
  margin-top:6px;
  border-radius:8px;
  border:1px solid #ccc;
}
.price{
  margin-top:16px;
  font-size:16px;
}
.total{
  font-size:22px;
  font-weight:bold;
  color:#1e88e5;
  margin-top:6px;
}
.note{
  font-size:13px;
  color:#666;
  margin-top:10px;
}
.warn{
  font-size:13px;
  color:#c62828;
  margin-top:8px;
}
button{
  margin-top:20px;
  width:100%;
  padding:14px;
  font-size:18px;
  background:#1e88e5;
  color:#fff;
  border:none;
  border-radius:10px;
}
button:disabled{
  background:#aaa;
}
</style>
</head>

<body>

<div class="card">
  <h1>ปั้มผู้ติดตาม TikTok</h1>
  <div class="note">
    ระบบคำนวณราคาอัตโนมัติตามจำนวนที่เลือก
  </div>

  <label>เลือกประเภทบริการ</label>
  <select id="type">
    <option value="">-- เลือกบริการ --</option>
    <option value="thai">ผู้ติดตามไทยล้วน</option>
    <option value="inter">ผู้ติดตามต่างชาติ</option>
  </select>

  <label>จำนวนผู้ติดตาม</label>
  <input
    type="number"
    id="qty"
    placeholder="เช่น 532"
    min="20"
    max="10000"
  >

  <div class="note">
    • ผู้ติดตามไทย: ขั้นต่ำ 20 คน / สูงสุด 5,000 คน<br>
    • ผู้ติดตามต่างชาติ: ขั้นต่ำ 50 คน / สูงสุด 10,000 คน
  </div>

  <div id="error" class="warn"></div>

  <div class="price">
    ราคาต่อ 1 คน: <b><span id="unit">-</span></b> บาท
  </div>

  <div class="total">
    ราคารวม: <span id="total">0</span> บาท
  </div>

  <button id="payBtn" disabled>ดำเนินการชำระเงิน</button>

  <div class="note">
    • กรุณาตรวจสอบลิงก์ให้ถูกต้องก่อนสั่งซื้อ<br>
    • ไม่สามารถยกเลิกหรือคืนเงินได้หลังเริ่มดำเนินการ
  </div>
</div>

<script>
const typeEl = document.getElementById("type");
const qtyEl = document.getElementById("qty");
const unitEl = document.getElementById("unit");
const totalEl = document.getElementById("total");
const payBtn = document.getElementById("payBtn");
const errorEl = document.getElementById("error");

function getPrice(type, qty){
  if(type === "inter"){
    if(qty >= 1000 && qty <= 10000) return 0.256;
    if(qty >= 500) return 0.4;
    if(qty >= 100) return 0.5;
    if(qty >= 51) return 0.6;
    if(qty >= 50) return 0.7;
    return null;
  }

  if(type === "thai"){
    if(qty >= 20 && qty <= 5000) return 1.39;
    return null;
  }
  return null;
}

function reset(msg=""){
  unitEl.innerText = "-";
  totalEl.innerText = "0";
  payBtn.disabled = true;
  errorEl.innerText = msg;
}

function calculate(){
  const type = typeEl.value;
  const qty = parseInt(qtyEl.value);

  if(!type || !qty){
    reset("");
    return;
  }

  if(type === "thai" && (qty < 20 || qty > 5000)){
    reset("ผู้ติดตามไทย ต้องอยู่ระหว่าง 20 – 5,000 คน");
    return;
  }

  if(type === "inter" && (qty < 50 || qty > 10000)){
    reset("ผู้ติดตามต่างชาติ ต้องอยู่ระหว่าง 50 – 10,000 คน");
    return;
  }

  const unit = getPrice(type, qty);
  if(unit === null){
    reset("ไม่สามารถคำนวณราคาได้");
    return;
  }

  const total = qty * unit;
  unitEl.innerText = unit.toFixed(3);
  totalEl.innerText = total.toLocaleString(undefined,{minimumFractionDigits:2});
  errorEl.innerText = "";
  payBtn.disabled = false;
}

typeEl.addEventListener("change", calculate);
qtyEl.addEventListener("input", calculate);

payBtn.addEventListener("click", ()=>{
  alert(
    "สรุปรายการสั่งซื้อ\n" +
    "บริการ: " + (typeEl.value === "thai" ? "ผู้ติดตามไทย" : "ผู้ติดตามต่างชาติ") +
    "\nจำนวน: " + qtyEl.value +
    "\nยอดชำระ: " + totalEl.innerText + " บาท"
  );
});
</script>

</body>
</html>
