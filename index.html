<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>SocialBoostTH</title>
<meta name="viewport" content="width=device-width,initial-scale=1">

<style>
body{
  margin:0;
  font-family:system-ui;
  background:#0f172a;
  color:#fff
}
.container{
  max-width:420px;
  margin:40px auto;
  padding:24px;
  background:#020617;
  border-radius:16px
}
input,button{
  width:100%;
  padding:14px;
  margin-top:10px;
  border-radius:10px;
  border:none
}
input{
  background:#020617;
  color:#fff;
  border:1px solid #1e293b
}
button{
  background:#22c55e;
  font-weight:bold
}
.box{
  background:#020617;
  padding:12px;
  border-radius:10px;
  margin-top:12px
}
.small{
  font-size:13px;
  opacity:.85
}
</style>
</head>

<body>
<div class="container">

<h2>à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸š</h2>

<!-- LOGIN -->
<div id="loginBox">
  <input id="email" placeholder="à¸­à¸µà¹€à¸¡à¸¥">
  <input id="password" type="password" placeholder="à¸£à¸«à¸±à¸ªà¸œà¹ˆà¸²à¸™">
  <button onclick="login()">à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸š</button>
  <div id="msg" class="small"></div>
</div>

<!-- PANEL -->
<div id="panel" style="display:none">
  <div class="box">
    ðŸ‘¤ <b id="name"></b><br>
    ðŸ’° à¹€à¸„à¸£à¸”à¸´à¸•à¸„à¸‡à¹€à¸«à¸¥à¸·à¸­: <b id="credit"></b>
  </div>
</div>

</div>

<script>
/* ===== CONFIG ===== */
const API = "https://hook.us2.make.com/i91b675rawoy52l11v5msfwjerf7uv31";
let user = null;

/* ===== LOGIN ===== */
function login(){
  msg.innerText = "à¸à¸³à¸¥à¸±à¸‡à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­...";

  fetch(API,{
    method: "POST",
    headers: {
      "Content-Type":"application/json"
    },
    body: JSON.stringify({
      action: "login",     // ðŸ”´ à¸ªà¸³à¸„à¸±à¸ à¸•à¹‰à¸­à¸‡à¹ƒà¸Šà¹‰ action
      email: email.value,
      password: password.value
    })
  })
  .then(res => res.json())
  .then(d => {
    console.log("RESPONSE:", d);

    if (!d.success) {
      msg.innerText = d.message || "à¸­à¸µà¹€à¸¡à¸¥à¸«à¸£à¸·à¸­à¸£à¸«à¸±à¸ªà¸œà¹ˆà¸²à¸™à¹„à¸¡à¹ˆà¸–à¸¹à¸";
      return;
    }

    // âœ… à¸•à¸£à¸‡à¸à¸±à¸š JSON à¸ˆà¸²à¸ Make
    user = d.user;

    name.innerText = user.fullname;
    credit.innerText = user.credit;

    loginBox.style.display = "none";
    panel.style.display = "block";
    msg.innerText = "";
  })
  .catch(err => {
    console.error(err);
    msg.innerText = "à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¸£à¸°à¸šà¸šà¹„à¸¡à¹ˆà¹„à¸”à¹‰";
  });
}
</script>
</body>
</html>