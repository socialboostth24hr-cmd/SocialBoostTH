<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>SocialBoostTH</title>

<style>
body{
  margin:0;
  font-family:system-ui;
  background:linear-gradient(180deg,#0f172a,#020617);
  color:#fff;
}
.container{
  max-width:420px;
  margin:40px auto;
  padding:24px;
  background:#020617;
  border-radius:18px;
}
h2{text-align:center}
input,select,button{
  width:100%;
  padding:14px;
  margin-top:10px;
  border-radius:10px;
  border:none;
  font-size:15px;
}
input,select{
  background:#020617;
  color:#fff;
  border:1px solid #1e293b;
}
button{
  background:#22c55e;
  font-weight:bold;
}
.box{
  background:#020617;
  border:1px solid #1e293b;
  padding:14px;
  border-radius:12px;
  margin-top:14px;
}
.small{font-size:13px;opacity:.8}
hr{border:none;border-top:1px solid #1e293b;margin:18px 0}
</style>
</head>

<body>
<div class="container">
<h2>SocialBoostTH</h2>

<!-- LOGIN -->
<div id="loginBox">
  <input id="email" placeholder="‡∏≠‡∏µ‡πÄ‡∏°‡∏•">
  <input id="password" type="password" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô">
  <button onclick="login()">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
  <div id="loginMsg" class="small"></div>
</div>

<!-- PANEL -->
<div id="panel" style="display:none">

  <div class="box">
    üë§ <b id="userName"></b><br>
    üí∞ ‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠: <b id="credit"></b> ‡∏ö‡∏≤‡∏ó
  </div>

  <div class="box small">
    <b>‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏á‡∏¥‡∏ô‡∏Å‡∏±‡∏ö‡∏£‡πâ‡∏≤‡∏ô</b><br>
    ‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£: ‡∏Å‡∏™‡∏¥‡∏Å‡∏£‡πÑ‡∏ó‡∏¢<br>
    ‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ç‡∏ä‡∏µ: 066-1213-728<br>
    ‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏±‡∏ç‡∏ä‡∏µ: ‡∏™‡∏£‡∏ß‡∏á‡∏™‡∏∏‡∏î‡∏≤ ‡∏®‡∏£‡∏µ‡∏™‡∏∏‡∏ß‡∏£‡∏£‡∏ì‡πå<br>
    <br>‡∏´‡∏•‡∏±‡∏á‡πÇ‡∏≠‡∏ô ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÅ‡∏à‡πâ‡∏á‡∏™‡∏•‡∏¥‡∏õ‡∏ó‡∏≤‡∏á LINE
  </div>

  <hr>

  <select id="service">
    <option value="‡∏ú‡∏π‡πâ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏ï‡πà‡∏≤‡∏á‡∏ä‡∏≤‡∏ï‡∏¥">‡∏ú‡∏π‡πâ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏ï‡πà‡∏≤‡∏á‡∏ä‡∏≤‡∏ï‡∏¥</option>
    <option value="‡∏ú‡∏π‡πâ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡πÑ‡∏ó‡∏¢">‡∏ú‡∏π‡πâ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡πÑ‡∏ó‡∏¢</option>
    <option value="‡πÑ‡∏•‡∏Ñ‡πå">‡πÑ‡∏•‡∏Ñ‡πå</option>
    <option value="‡∏ß‡∏¥‡∏ß">‡∏ß‡∏¥‡∏ß</option>
  </select>

  <input id="quantity" type="number" placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô">
  <input id="link" placeholder="‡∏•‡∏¥‡∏á‡∏Å‡πå TikTok">

  <button onclick="createOrder()">‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</button>
  <div id="orderMsg" class="small"></div>

  <hr>

  <button onclick="loadOrders()">‡∏î‡∏π‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</button>
  <div id="orders" class="small"></div>

</div>
</div>

<script>
const API = "‡πÉ‡∏™‡πà_API_URL_‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ";

let currentUser = null;

function login(){
  fetch(API,{
    method:"POST",
    headers:{ "Content-Type":"application/json" },
    body:JSON.stringify({
      action:"login",
      email:email.value,
      password:password.value
    })
  })
  .then(r=>r.json())
  .then(d=>{
    if(!d.success){
      loginMsg.innerText=d.message;
      return;
    }
    currentUser=d.user;
    loginBox.style.display="none";
    panel.style.display="block";
    userName.innerText=d.user.firstname+" "+d.user.lastname;
    credit.innerText=d.user.credit;
  })
  .catch(()=>{
    loginMsg.innerText="‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ";
  });
}

function createOrder(){
  fetch(API,{
    method:"POST",
    headers:{ "Content-Type":"application/json" },
    body:JSON.stringify({
      action:"create_order",
      user_id:currentUser.user_id,
      service:service.value,
      quantity:quantity.value,
      link:link.value
    })
  })
  .then(r=>r.json())
  .then(d=>{
    orderMsg.innerText="‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡πÄ‡∏•‡∏Ç‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå "+d.order_id;
  });
}

function loadOrders(){
  fetch(API,{
    method:"POST",
    headers:{ "Content-Type":"application/json" },
    body:JSON.stringify({
      action:"get_orders",
      user_id:currentUser.user_id
    })
  })
  .then(r=>r.json())
  .then(d=>{
    orders.innerHTML="";
    d.orders.forEach(o=>{
      orders.innerHTML+=`üì¶ ${o[0]} | ${o[2]} | ${o[4]}<br>`;
    });
  });
}
</script>
</body>
</html>