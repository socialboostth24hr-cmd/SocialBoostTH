<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>เข้าสู่ระบบ | SocialBoostTH</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{
  margin:0;font-family:system-ui;
  background:linear-gradient(180deg,#0b0216,#14032a);
  display:flex;align-items:center;justify-content:center;
  color:#fff;
}
.box{
  width:100%;max-width:420px;
  padding:30px;
  background:#14062b;
  border-radius:22px;
}
h1{text-align:center;color:#c4b5fd}
input,button{
  width:100%;margin-top:12px;
  padding:14px;border-radius:14px;
  border:none;
}
input{background:#120725;color:#fff;border:1px solid #3b1775}
button{
  background:linear-gradient(90deg,#8b5cf6,#ec4899);
  font-weight:800;color:#fff;cursor:pointer;
}
.msg{margin-top:12px;color:#fda4af;text-align:center}
</style>
</head>
<body>

<div class="box">
  <h1>SocialBoostTH</h1>
  <input id="email" placeholder="อีเมล">
  <input id="password" type="password" placeholder="รหัสผ่าน">
  <button onclick="login()">เข้าสู่ระบบ</button>
  <div class="msg" id="msg"></div>
</div>

<script>
const API_URL="https://script.google.com/macros/s/AKfycbyarc1hrJZzI6g_EtrpzIZLQUDSOAPM-TlndrZ4BxdEEqvHkFpftXQ7oCWEjCix6heq/exec";

if(localStorage.getItem("user")){
  location.href="dashboard.html";
}

function login(){
  fetch(API_URL,{
    method:"POST",
    body:JSON.stringify({
      action:"login",
      email:email.value,
      password:password.value
    })
  })
  .then(r=>r.json())
  .then(res=>{
    if(!res.success){ msg.innerText=res.message; return; }
    localStorage.setItem("user",JSON.stringify(res.user));
    location.href="dashboard.html";
  })
  .catch(()=>msg.innerText="เซิร์ฟเวอร์ผิดพลาด");
}
</script>

</body>
</html>