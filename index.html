<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>SocialBoostTH</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
  margin:0;font-family:system-ui;
  background:linear-gradient(180deg,#0b0216,#1a0438);
  color:#fff;
}
.container{
  max-width:420px;margin:30px auto;padding:24px;
  background:#120726;border-radius:18px;
}
h1{text-align:center;margin:0}
.sub{text-align:center;opacity:.85;margin-bottom:16px}
.box{
  background:#0f0220;border:1px solid #2e1065;
  padding:14px;border-radius:12px;margin-top:12px;
}
label{font-size:14px;display:block;margin-top:12px}
input,textarea,button{
  width:100%;padding:14px;margin-top:8px;
  border-radius:12px;border:1px solid #2e1065;
  background:#0f0220;color:#fff;
}
textarea{min-height:120px;resize:vertical}
button{
  background:linear-gradient(90deg,#7c3aed,#5b21b6);
  border:none;font-weight:bold;
}
.small{opacity:.7;font-size:13px}
.logout{background:#111}
.popup{
  position:fixed;inset:0;background:rgba(0,0,0,.7);
  display:none;align-items:center;justify-content:center;
}
.popup .box{max-width:360px}
</style>
</head>

<body>

<!-- PANEL -->
<div class="container" id="panel">
  <h1>SocialBoostTH</h1>
  <div class="sub">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</div>

  <div class="box">
    üáπüá≠ <b>‡∏ú‡∏π‡πâ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡πÑ‡∏ó‡∏¢</b>
    <div id="serviceThai"></div>
  </div>

  <div class="box">
    üåç <b>‡∏ú‡∏π‡πâ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏ï‡πà‡∏≤‡∏á‡∏ä‡∏≤‡∏ï‡∏¥</b>
    <div id="serviceInter"></div>
  </div>

  <div class="box">
    ‚ù§Ô∏è <b>‡πÑ‡∏•‡∏Å‡πå / ‡∏ß‡∏¥‡∏ß / ‡∏Ñ‡∏≠‡∏°‡πÄ‡∏°‡∏ô‡∏ï‡πå</b>
    <div id="serviceEngage"></div>
  </div>
</div>

<!-- ORDER -->
<div class="container" id="orderBox" style="display:none">
  <h1 id="orderTitle">‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</h1>

  <div class="box">
    ‡∏£‡∏≤‡∏Ñ‡∏≤ / ‡∏´‡∏ô‡πà‡∏ß‡∏¢: <b id="price"></b><br>
    ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥: <b id="minq"></b> | ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î: <b id="maxq"></b>
  </div>

  <label>‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏á‡∏≤‡∏ô</label>
  <input id="link">

  <label>‡∏Ñ‡∏≠‡∏°‡πÄ‡∏°‡∏ô‡∏ï‡πå (1 ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î = 1 ‡∏Ñ‡∏≠‡∏°‡πÄ‡∏°‡∏ô‡∏ï‡πå)</label>
  <textarea id="comments" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ó‡∏µ‡∏•‡∏∞‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î"></textarea>

  <div class="box small">
    ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: <b id="qty">0</b><br>
    ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ß‡∏°: <b id="total">0</b> ‡∏ö‡∏≤‡∏ó
  </div>

  <button onclick="openTerms()">‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</button>
  <button class="logout" onclick="back()">‡∏Å‡∏•‡∏±‡∏ö</button>
</div>

<!-- TERMS POPUP -->
<div class="popup" id="termsPopup">
  <div class="box">
    <b>‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</b><br><br>
    <div class="small">
      ‚Ä¢ ‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏ñ‡∏∑‡∏≠‡∏ß‡πà‡∏≤‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏á‡∏≤‡∏ô<br>
      ‚Ä¢ ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏∑‡∏ô‡πÄ‡∏á‡∏¥‡∏ô<br>
      ‚Ä¢ ‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡∏≤‡∏à‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏ï‡∏≤‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏û‡∏•‡∏ï‡∏ü‡∏≠‡∏£‡πå‡∏°<br>
      ‚Ä¢ ‡∏´‡πâ‡∏≤‡∏°‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏ú‡∏¥‡∏î‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡∏´‡∏£‡∏∑‡∏≠‡∏Ç‡∏±‡∏î‡∏ï‡πà‡∏≠‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡πÅ‡∏û‡∏•‡∏ï‡∏ü‡∏≠‡∏£‡πå‡∏°
    </div>

    <label style="margin-top:12px">
      <input type="checkbox" id="accept"> ‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
    </label>

    <button onclick="confirmOrder()">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</button>
    <button class="logout" onclick="closeTerms()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
  </div>
</div>

<script>
const SERVICES_API="https://opensheet.elk.sh/10hFozE-vcdtPhX7KiGs3JTndpvxbUNDHDzhpvPxIz-4/services";
let services=[], selected=null;

/* INIT */
(async()=>{
  services=await (await fetch(SERVICES_API)).json();
  renderServices();
})();

function renderServices(){
  const thai=serviceThai, inter=serviceInter, eng=serviceEngage;
  thai.innerHTML=inter.innerHTML=eng.innerHTML="";

  services.filter(s=>s.status==="active").forEach(s=>{
    const btn=`<button onclick='selectService(${JSON.stringify(s)})'>
      ${s.platform} | ${s.service_name}
    </button>`;
    if(s.service_name.includes("‡πÑ‡∏ó‡∏¢")) thai.innerHTML+=btn;
    else if(s.service_name.includes("‡∏ï‡πà‡∏≤‡∏á")) inter.innerHTML+=btn;
    else eng.innerHTML+=btn;
  });
}

/* SELECT SERVICE */
function selectService(s){
  selected=s;
  panel.style.display="none";
  orderBox.style.display="block";
  orderTitle.innerText=s.service_name;
  price.innerText=s.price_th;
  minq.innerText=s.min_qty;
  maxq.innerText=s.max_qty;
  comments.value="";
  calc();
}

comments.oninput=calc;

function calc(){
  const lines=comments.value.trim()
    ? comments.value.split(/\n+/).length : 0;
  qty.innerText=lines;
  total.innerText=(lines * selected.price_th).toFixed(2);
}

function back(){
  orderBox.style.display="none";
  panel.style.display="block";
}

/* TERMS */
function openTerms(){
  if(!comments.value.trim()){
    alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ñ‡∏≠‡∏°‡πÄ‡∏°‡∏ô‡∏ï‡πå");
    return;
  }
  termsPopup.style.display="flex";
}

function closeTerms(){
  termsPopup.style.display="none";
  accept.checked=false;
}

function confirmOrder(){
  if(!accept.checked){
    alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç");
    return;
  }
  alert("‚úÖ ‡∏™‡πà‡∏á‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢ (‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏° GAS ‡∏ï‡πà‡∏≠‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢)");
  closeTerms();
}
</script>

</body>
</html>