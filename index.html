<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>บริการ TikTok</title>

<style>
body{
  font-family: Arial, sans-serif;
  background:#f4f6fa;
  padding:20px;
}
.card{
  max-width:560px;
  margin:auto;
  background:#fff;
  border-radius:12px;
  padding:24px;
  box-shadow:0 8px 25px rgba(0,0,0,.1);
}
h1{
  font-size:22px;
  margin-bottom:8px;
}
label{
  font-weight:bold;
  margin-top:14px;
  display:block;
}
select,input{
  width:100%;
  padding:12px;
  font-size:16px;
  margin-top:6px;
  border-radius:8px;
  border:1px solid #ccc;
}
.note{
  font-size:13px;
  color:#555;
  margin-top:8px;
}
.warn{
  font-size:13px;
  color:#c62828;
  margin-top:8px;
}
.price{
  margin-top:14px;
}
.total{
  font-size:22px;
  font-weight:bold;
  color:#1e88e5;
}
button{
  margin-top:20px;
  width:100%;
  padding:14px;
  font-size:18px;
  background:#1e88e5;
  color:#fff;
  border:none;
  border-radius:10px;
}
button:disabled{
  background:#aaa;
}
.hidden{
  display:none;
}
</style>
</head>

<body>

<div class="card">
<h1>บริการ TikTok</h1>

<label>หมวดหมู่บริการ</label>
<select id="category">
  <option value="">-- เลือกบริการ --</option>
  <option value="like_inter">ถูกใจต่างชาติ</option>
  <option value="like_th">ถูกใจไทย</option>
  <option value="view_inter">วิวต่างชาติ</option>
  <option value="view_th">วิวไทย</option>
  <option value="comment_th">คอมเมนท์ไทย</option>
  <option value="share_inter">แชร์ต่างชาติ</option>
  <option value="save_inter">บันทึกต่างชาติ</option>
</select>

<div id="limitBox" class="note hidden"></div>

<label>จำนวนที่ต้องการ</label>
<input type="number" id="qty" placeholder="กรอกจำนวน">

<div id="error" class="warn"></div>

<div class="price">
  ราคาต่อหน่วย: <b><span id="unit">-</span></b> บาท
</div>

<div class="total">
  ราคารวม: <span id="total">0</span> บาท
</div>

<label>ลิงก์ช่อง TikTok</label>
<input type="url" id="tiktok" placeholder="https://www.tiktok.com/@username">

<div class="note">
กรุณาแนบลิงก์โปรไฟล์ TikTok แบบเต็ม และตั้งค่าเป็นสาธารณะ
</div>

<label>ไอดีไลน์ลูกค้า (กรอกเพื่อรับประกัน)</label>
<input type="text" id="lineid" placeholder="@lineid">

<div class="note">
กรณีไม่กรอกไอดีไลน์ จะไม่สามารถรับประกันหรือเติมยอดให้ได้ในทุกกรณี
</div>

<button id="payBtn" disabled>ดำเนินการชำระเงิน</button>

<div class="note">
• กรุณาตรวจสอบข้อมูลให้ถูกต้องก่อนสั่งซื้อ<br>
• ไม่สามารถยกเลิกหรือคืนเงินได้หลังเริ่มดำเนินการ
</div>

</div>

<script>
const categoryEl=document.getElementById("category");
const qtyEl=document.getElementById("qty");
const unitEl=document.getElementById("unit");
const totalEl=document.getElementById("total");
const errorEl=document.getElementById("error");
const payBtn=document.getElementById("payBtn");
const limitBox=document.getElementById("limitBox");
const tiktokEl=document.getElementById("tiktok");

const services={
  like_inter:{min:50,max:10000,price:[[5000,0.20],[1000,0.22],[500,0.25],[50,0.30]]},
  like_th:{min:20,max:2000,price:[[500,1.8],[100,2.0],[20,2.5]]},
  view_inter:{min:1000,max:100000,price:[[1000,0.05]]},
  view_th:{min:1000,max:10000,price:[[1000,0.1]]},
  comment_th:{min:10,max:50,price:[[10,5]]},
  share_inter:{min:100,max:1000,price:[[100,0.1]]},
  save_inter:{min:100,max:1000,price:[[100,0.1]]}
};

function reset(msg=""){
  unitEl.innerText="-";
  totalEl.innerText="0";
  payBtn.disabled=true;
  errorEl.innerText=msg;
}

function calculate(){
  const key=categoryEl.value;
  const qty=parseInt(qtyEl.value);
  const link=tiktokEl.value.trim();

  if(!key||!qty){
    reset("");
    return;
  }

  if(!link){
    reset("กรุณาใส่ลิงก์ช่อง TikTok");
    return;
  }

  const data=services[key];
  if(qty<data.min||qty>data.max){
    reset("ต้องอยู่ระหว่าง "+data.min+" – "+data.max);
    return;
  }

  let unit=null;
  for(const p of data.price){
    if(qty>=p[0]){
      unit=p[1];
      break;
    }
  }

  if(!unit){
    reset("ไม่สามารถคำนวณราคาได้");
    return;
  }

  unitEl.innerText=unit.toFixed(3);
  totalEl.innerText=(qty*unit).toLocaleString(undefined,{minimumFractionDigits:2});
  errorEl.innerText="";
  payBtn.disabled=false;
}

categoryEl.addEventListener("change",()=>{
  const key=categoryEl.value;
  reset("");
  qtyEl.value="";
  if(!key){
    limitBox.classList.add("hidden");
    return;
  }
  const d=services[key];
  limitBox.innerText="ขั้นต่ำ "+d.min+" / สูงสุด "+d.max;
  limitBox.classList.remove("hidden");
});

qtyEl.addEventListener("input",calculate);
tiktokEl.addEventListener("input",calculate);

payBtn.addEventListener("click",()=>{
  alert(
    "บริการ: "+categoryEl.options[categoryEl.selectedIndex].text+
    "\nจำนวน: "+qtyEl.value+
    "\nลิงก์: "+tiktokEl.value+
    "\nยอดชำระ: "+totalEl.innerText+" บาท"
  );
});
</script>

</body>
</html>
