<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>ตรวจสอบสถานะคำสั่งซื้อ | SocialBoostTH</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body {
  background:#0b1220;
  font-family:Arial, sans-serif;
  color:#fff;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
}
.card {
  background:#111827;
  padding:24px;
  border-radius:14px;
  width:100%;
  max-width:420px;
}
h1 { text-align:center; margin-bottom:10px; }
input, button {
  width:100%;
  padding:12px;
  margin-top:10px;
  border-radius:8px;
  border:none;
}
input { background:#1f2937; color:#fff; }
button {
  background:#22c55e;
  color:#000;
  font-weight:bold;
  cursor:pointer;
}
.result {
  margin-top:16px;
  background:#020617;
  padding:12px;
  border-radius:8px;
}
.error { color:#f87171; text-align:center; }
</style>
</head>
<body>

<div class="card">
<h1>เช็คสถานะคำสั่งซื้อ</h1>

<input id="order" placeholder="เลขคำสั่งซื้อ เช่น SB-0001">
<input id="token" placeholder="Token">

<button onclick="checkStatus()">ตรวจสอบสถานะ</button>

<div id="output"></div>
</div>

<script>
const API = 'https://script.google.com/macros/s/AKfycbz4zp7bQGfKP0_hGPJpEWa7bJ8N4UOtI_jCdVRGBnO8nbq22tZ7uAzzbBt2iEwvaoFz/exec';

function checkStatus() {
  const order = document.getElementById('order').value.trim();
  const token = document.getElementById('token').value.trim();
  const out = document.getElementById('output');
  out.innerHTML = 'กำลังตรวจสอบ...';

  fetch(`${API}?order_id=${order}&token=${token}`)
    .then(r => r.json())
    .then(d => {
      if (!d.success) {
        out.innerHTML = `<p class="error">${d.message}</p>`;
        return;
      }
      out.innerHTML = `
        <div class="result">
          <b>เลขออเดอร์:</b> ${d.order_id}<br>
          <b>บริการ:</b> ${d.service}<br>
          <b>จำนวน:</b> ${d.quantity}<br>
          <b>ลิงก์:</b> <a href="${d.link}" target="_blank">${d.link}</a><br>
          <b>สถานะ:</b> ${d.status}<br>
          <b>วันที่:</b> ${d.created_at}
        </div>
      `;
    })
    .catch(() => {
      out.innerHTML = '<p class="error">ไม่สามารถเชื่อมต่อระบบได้</p>';
    });
}
</script>

</body>
</html>
